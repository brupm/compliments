.message

  %p.message-date
    %em= compliment.created_at.strftime("%B %d, %Y")

  = image_tag compliment.complimenter.image, class: "thumb message-avatar", size: "50"

  .card.message-content
    %p.message-content-name= compliment.complimenter.name
    = emojify(compliment.text)

  .message-meta.group
    %ul.list.list--inline.message-controls.has-btn
      - compliment.grouped_emoji_reactions.each do |emoji, count|
        %li.list-item
          = link_to "#", class: "js-reaction-toggle #{'is-reacted' if compliment.has_reaction?(current_user, emoji.name)}", data: { url: compliment_emoji_reaction_url(compliment, emoji: emoji.name) } do
            = emoji.raw
            %span.js-reaction-count= count
      %li.list-item
      - if compliment.from?(current_user)
        %li.list-item= link_to "Edit", edit_compliment_path(compliment)
        %li.list-item= link_to "Delete", compliment_path(compliment), method: :delete

    .bucket.bucket--flag.message-complimentee
      .bucket-content.message-complimentee-name
        %p
          %span.tcs to
          = compliment.complimentee.name
      .bucket-media.message-complimentee-avatar
        = image_tag compliment.complimentee.image, class: "thumb", size: "50"
